{"version":3,"file":"angular-react-fabric-lib-components-search-box.js","sources":["ng://@angular-react/fabric/lib/components/search-box/search-box.component.ts","ng://@angular-react/fabric/lib/components/search-box/search-box.module.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport { InputRendererOptions, Omit, ReactWrapperComponent } from '@angular-react/core';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  NgZone,\r\n  Output,\r\n  Renderer2,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { IButtonProps } from 'office-ui-fabric-react/lib/Button';\r\nimport { ISearchBoxProps } from 'office-ui-fabric-react/lib/SearchBox';\r\nimport { omit } from '@angular-react/fabric/lib/utils';\r\n\r\n@Component({\r\n  selector: 'fab-search-box',\r\n  exportAs: 'fabSearchBox',\r\n  template: `\r\n    <SearchBox\r\n      #reactNode\r\n      [componentRef]=\"componentRef\"\r\n      [placeholder]=\"placeholder\"\r\n      [value]=\"value\"\r\n      [className]=\"className\"\r\n      [ariaLabel]=\"ariaLabel\"\r\n      [clearButtonProps]=\"clearButtonProps\"\r\n      [iconProps]=\"iconProps\"\r\n      [underlined]=\"underlined\"\r\n      [theme]=\"theme\"\r\n      [styles]=\"styles\"\r\n      [disableAnimation]=\"disableAnimation\"\r\n      [Change]=\"onChangeHandler\"\r\n      [Search]=\"onSearchHandler\"\r\n      [Clear]=\"onClearHandler\"\r\n      [Escape]=\"onEscapeHandler\"\r\n    >\r\n    </SearchBox>\r\n  `,\r\n  styles: ['react-renderer'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class FabSearchBoxComponent extends ReactWrapperComponent<ISearchBoxProps> {\r\n  @ViewChild('reactNode', { static: true }) protected reactNodeRef: ElementRef;\r\n\r\n  @Input() componentRef?: ISearchBoxProps['componentRef'];\r\n  @Input() placeholder?: ISearchBoxProps['placeholder'];\r\n  @Input() value?: ISearchBoxProps['value'];\r\n  @Input() className?: ISearchBoxProps['className'];\r\n  @Input() ariaLabel?: ISearchBoxProps['ariaLabel'];\r\n  @Input() underlined?: ISearchBoxProps['underlined'];\r\n  @Input() theme?: ISearchBoxProps['theme'];\r\n  @Input() styles?: ISearchBoxProps['styles'];\r\n  @Input() disableAnimation?: ISearchBoxProps['disableAnimation'];\r\n  @Input()\r\n  set clearButtonOptions(value: IButtonOptions) {\r\n    this._clearButtonOptions = value;\r\n\r\n    if (value) {\r\n      this.clearButtonProps = this._transformButtonOptionsToProps(value);\r\n    }\r\n  }\r\n\r\n  get clearButtonOptions(): IButtonOptions {\r\n    return this._clearButtonOptions;\r\n  }\r\n\r\n  @Input() iconProps?: ISearchBoxProps['iconProps'];\r\n\r\n  @Output() readonly onChange = new EventEmitter<{ newValue: any }>();\r\n  @Output() readonly onSearch = new EventEmitter<{ newValue: any }>();\r\n  @Output() readonly onClear = new EventEmitter<{ ev?: any }>();\r\n  @Output() readonly onEscape = new EventEmitter<{ ev?: any }>();\r\n\r\n  clearButtonProps: IButtonProps;\r\n\r\n  private _clearButtonOptions: IButtonOptions;\r\n\r\n  constructor(elementRef: ElementRef, changeDetectorRef: ChangeDetectorRef, renderer: Renderer2, ngZone: NgZone) {\r\n    super(elementRef, changeDetectorRef, renderer, { ngZone });\r\n\r\n    this.onChangeHandler = this.onChangeHandler.bind(this);\r\n    this.onSearchHandler = this.onSearchHandler.bind(this);\r\n    this.onClearHandler = this.onClearHandler.bind(this);\r\n    this.onEscapeHandler = this.onEscapeHandler.bind(this);\r\n  }\r\n\r\n  onChangeHandler(newValue: any) {\r\n    this.onChange.emit({\r\n      newValue,\r\n    });\r\n  }\r\n\r\n  onSearchHandler(newValue: any) {\r\n    this.onSearch.emit({\r\n      newValue,\r\n    });\r\n  }\r\n\r\n  onClearHandler(ev?: any) {\r\n    this.onClear.emit({\r\n      ev: (ev && ev.nativeElement) || ev,\r\n    });\r\n  }\r\n\r\n  onEscapeHandler(ev?: any) {\r\n    this.onEscape.emit({\r\n      ev: (ev && ev.nativeElement) || ev,\r\n    });\r\n  }\r\n\r\n  private _transformButtonOptionsToProps(options: IButtonOptions): IButtonProps {\r\n    const sharedProperties = omit(\r\n      options,\r\n      'renderIcon',\r\n      'renderText',\r\n      'renderDescription',\r\n      'renderAriaDescription',\r\n      'renderChildren',\r\n      'renderMenuIcon'\r\n    );\r\n\r\n    const iconRenderer = this.createInputJsxRenderer(options.renderIcon);\r\n    const textRenderer = this.createInputJsxRenderer(options.renderText);\r\n    const descriptionRenderer = this.createInputJsxRenderer(options.renderDescription);\r\n    const ariaDescriptionRenderer = this.createInputJsxRenderer(options.renderAriaDescription);\r\n    const childrenRenderer = this.createInputJsxRenderer(options.renderChildren);\r\n    const menuIconRenderer = this.createInputJsxRenderer(options.renderMenuIcon);\r\n\r\n    return Object.assign(\r\n      {},\r\n      sharedProperties,\r\n      iconRenderer && ({ onRenderIcon: props => iconRenderer(props) } as Pick<IButtonProps, 'onRenderIcon'>),\r\n      textRenderer && ({ onRenderText: props => textRenderer(props) } as Pick<IButtonProps, 'onRenderText'>),\r\n      descriptionRenderer &&\r\n        ({ onRenderDescription: props => descriptionRenderer(props) } as Pick<IButtonProps, 'onRenderDescription'>),\r\n      ariaDescriptionRenderer &&\r\n        ({ onRenderAriaDescription: props => ariaDescriptionRenderer(props) } as Pick<\r\n          IButtonProps,\r\n          'onRenderAriaDescription'\r\n        >),\r\n      childrenRenderer &&\r\n        ({ onRenderChildren: props => childrenRenderer(props) } as Pick<IButtonProps, 'onRenderChildren'>),\r\n      menuIconRenderer &&\r\n        ({ onRenderMenuIcon: props => menuIconRenderer(props) } as Pick<IButtonProps, 'onRenderMenuIcon'>)\r\n    );\r\n  }\r\n}\r\n\r\nexport interface IButtonOptions\r\n  extends Omit<\r\n    IButtonProps,\r\n    | 'onRenderIcon'\r\n    | 'onRenderText'\r\n    | 'onRenderDescription'\r\n    | 'onRenderAriaDescription'\r\n    | 'onRenderChildren'\r\n    | 'onRenderMenuIcon'\r\n  > {\r\n  readonly renderIcon: InputRendererOptions<IButtonProps>;\r\n  readonly renderText: InputRendererOptions<IButtonProps>;\r\n  readonly renderDescription: InputRendererOptions<IButtonProps>;\r\n  readonly renderAriaDescription: InputRendererOptions<IButtonProps>;\r\n  readonly renderChildren: InputRendererOptions<IButtonProps>;\r\n  readonly renderMenuIcon: InputRendererOptions<IButtonProps>;\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport { registerElement } from '@angular-react/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule, NO_ERRORS_SCHEMA } from '@angular/core';\r\nimport { SearchBox } from 'office-ui-fabric-react/lib/SearchBox';\r\nimport { FabSearchBoxComponent } from './search-box.component';\r\n\r\nconst components = [FabSearchBoxComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: components,\r\n  exports: components,\r\n  schemas: [NO_ERRORS_SCHEMA],\r\n})\r\nexport class FabSearchBoxModule {\r\n  constructor() {\r\n    // Add any React elements to the registry (used by the renderer).\r\n    registerElement('SearchBox', () => SearchBox);\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}