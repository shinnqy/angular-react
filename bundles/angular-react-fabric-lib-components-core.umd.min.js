!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("@angular-react/fabric/lib/components/core",["exports","@angular/core"],t):t(((e=e||self)["angular-react"]=e["angular-react"]||{},e["angular-react"].fabric=e["angular-react"].fabric||{},e["angular-react"].fabric.lib=e["angular-react"].fabric.lib||{},e["angular-react"].fabric.lib.components=e["angular-react"].fabric.lib.components||{},e["angular-react"].fabric.lib.components.core={}),e.ng.core)}(this,(function(e,t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function n(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}var r=function(){function e(e){this.key=e,this.onItemChanged=new t.EventEmitter}return e.prototype.emitChanges=function(e){this.onItemChanged.emit({key:this.key,changes:e})},e}();var i=function(){function e(e,n,r){var i=this;this.directiveItems=e,this.self=n,this.nonSelfHandler=r,this.onChildItemChanged=new t.EventEmitter,this.onItemsChanged=new t.EventEmitter,this._subscriptionsMap={},this._subscribeNewDirectives(),this._changeSubscription=this.directiveItems.changes.subscribe((function(e){i.onItemsChanged.emit(e),i._subscribeNewDirectives()}))}return e.prototype.destroy=function(){Object.values(this._subscriptionsMap).forEach((function(e){return e.unsubscribe()})),this._changeSubscription.unsubscribe()},e.prototype._subscribeNewDirectives=function(){var e=this;this._handleNonSelfDirectives().forEach((function(t){e._subscriptionsMap[t.key]&&e._subscriptionsMap[t.key].unsubscribe(),e._subscriptionsMap[t.key]=t.onItemChanged.subscribe((function(t){e._handleNonSelfDirectives(),e.onChildItemChanged.emit(t),e.self&&e.self.onItemChanged&&e.self.onItemChanged.emit(t)}))}))},e.prototype._handleNonSelfDirectives=function(){var e=this,t=this.directiveItems.filter((function(t){return t!==e.self}));return this.nonSelfHandler&&t.length&&this.nonSelfHandler(t),t},e}();var a=function(){function e(){}return Object.defineProperty(e.prototype,"onItemChanged",{get:function(){return this.changeableItemHelper&&this.changeableItemHelper.onItemChanged},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.changeableItemHelper=new r(this.key)},e.prototype.ngOnChanges=function(e){this.changeableItemHelper&&this.changeableItemHelper.emitChanges(e)},e.propDecorators={key:[{type:t.Input}],onItemChanged:[{type:t.Output}]},e}();var o=function(){function e(){}return Object.defineProperty(e.prototype,"onChildItemChanged",{get:function(){return this.changeableItemsHelper&&this.changeableItemsHelper.onChildItemChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onItemsChanged",{get:function(){return this.changeableItemsHelper&&this.changeableItemsHelper.onItemsChanged},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this.changeableItemsHelper=new i(this.directiveItems)},e.prototype.ngOnDestroy=function(){this.changeableItemsHelper.destroy()},e.propDecorators={directiveItems:[{type:t.ContentChildren,args:[a]}],onChildItemChanged:[{type:t.Output}],onItemsChanged:[{type:t.Output}]},e}();e.ChangeableItemDirective=a,e.ChangeableItemHelper=r,e.ChangeableItemsDirective=o,e.ChangeableItemsHelper=i,e.mergeItemChanges=function(e,t){var r=Object.entries(t).reduce((function(e,t){var r,i=n(t,2),a=i[0],o=i[1];return Object.assign(e,((r={})[a]=o.currentValue,r))}),{});return Object.assign({},e,r)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=angular-react-fabric-lib-components-core.umd.min.js.map