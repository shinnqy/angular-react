{"version":3,"file":"angular-react-fabric-lib-components-command-bar.js","sources":["ng://@angular-react/fabric/lib/components/command-bar/directives/command-bar-item.directives.ts","ng://@angular-react/fabric/lib/components/command-bar/directives/command-bar-items.directives.ts","ng://@angular-react/fabric/lib/components/command-bar/command-bar.component.ts","ng://@angular-react/fabric/lib/components/command-bar/command-bar.module.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport { ContentChild, Directive, Input, TemplateRef, ElementRef } from '@angular/core';\r\nimport { ItemChangedPayload } from '@angular-react/fabric/lib/components/core';\r\nimport { ContextualMenuItemDirective } from '@angular-react/fabric/lib/components/contextual-menu'\r\nimport {\r\n  ICommandBarItemOptions,\r\n  ICommandBarItemOptionsRenderContext,\r\n  ICommandBarItemOptionsRenderIconContext,\r\n} from '../command-bar.component';\r\n\r\nexport type CommandBarItemChangedPayload = ItemChangedPayload<ICommandBarItemOptions['key'], ICommandBarItemOptions>;\r\n\r\n/**\r\n * Wrapper directive to allow rendering a custom item to a CommandBarItem.\r\n */\r\n@Directive({ selector: 'fab-command-bar-item > render' })\r\nexport class CommandBarItemRenderDirective {\r\n  @ContentChild(TemplateRef, { static: false }) readonly templateRef: TemplateRef<ICommandBarItemOptionsRenderContext>;\r\n}\r\n\r\n/**\r\n * Wrapper directive to allow rendering a custom icon to a CommandBarItem.\r\n */\r\n@Directive({ selector: 'fab-command-bar-item > render-icon' })\r\nexport class CommandBarItemRenderIconDirective {\r\n  @ContentChild(TemplateRef, { static: false }) readonly templateRef: TemplateRef<ICommandBarItemOptionsRenderIconContext>;\r\n}\r\n\r\n@Directive({ selector: 'fab-command-bar-item' })\r\nexport class CommandBarItemDirective extends ContextualMenuItemDirective implements ICommandBarItemOptions {\r\n  // ICommandBarItemOptions implementation\r\n  @Input() iconOnly?: ICommandBarItemOptions['iconOnly'];\r\n  @Input() tooltipHostProps?: ICommandBarItemOptions['tooltipHostProps'];\r\n  @Input() buttonStyles?: ICommandBarItemOptions['buttonStyles'];\r\n  @Input() cacheKey?: ICommandBarItemOptions['cacheKey'];\r\n  @Input() renderedInOverflow?: ICommandBarItemOptions['renderedInOverflow'];\r\n  @Input() commandBarButtonAs?: ICommandBarItemOptions['commandBarButtonAs'];\r\n\r\n  constructor(elementRef: ElementRef<HTMLElement>) {\r\n    super(elementRef);\r\n  }\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport { ContentChildren, Directive, QueryList } from '@angular/core';\r\nimport { ChangeableItemsDirective } from '@angular-react/fabric/lib/components/core';\r\nimport { getDataAttributes } from '@angular-react/fabric/lib/utils';\r\n\r\nimport { ICommandBarItemOptions } from '../command-bar.component';\r\nimport { CommandBarItemDirective } from './command-bar-item.directives';\r\n\r\nexport abstract class CommandBarItemsDirectiveBase extends ChangeableItemsDirective<ICommandBarItemOptions> {\r\n  abstract readonly directiveItems: QueryList<CommandBarItemDirective>;\r\n\r\n  get items() {\r\n    return (\r\n      this.directiveItems &&\r\n      this.directiveItems.map<ICommandBarItemOptions>((directiveItem: CommandBarItemDirective) => ({\r\n        ...directiveItem,\r\n        ...getDataAttributes(directiveItem.elementRef.nativeElement, true),\r\n        onClick: (ev, item) => {\r\n          directiveItem.click.emit({\r\n            ev: ev && ev.nativeEvent,\r\n            item: item,\r\n          });\r\n        },\r\n      }))\r\n    );\r\n  }\r\n}\r\n\r\n@Directive({ selector: 'fab-command-bar > items' })\r\nexport class CommandBarItemsDirective extends CommandBarItemsDirectiveBase {\r\n  @ContentChildren(CommandBarItemDirective) readonly directiveItems: QueryList<CommandBarItemDirective>;\r\n}\r\n\r\n@Directive({ selector: 'fab-command-bar > far-items' })\r\nexport class CommandBarFarItemsDirective extends CommandBarItemsDirectiveBase {\r\n  @ContentChildren(CommandBarItemDirective) readonly directiveItems: QueryList<CommandBarItemDirective>;\r\n}\r\n\r\n@Directive({ selector: 'fab-command-bar > overflow-items' })\r\nexport class CommandBarOverflowItemsDirective extends CommandBarItemsDirectiveBase {\r\n  @ContentChildren(CommandBarItemDirective) readonly directiveItems: QueryList<CommandBarItemDirective>;\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport { InputRendererOptions, KnownKeys, ReactWrapperComponent } from '@angular-react/core';\r\nimport {\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  NgZone,\r\n  OnDestroy,\r\n  Output,\r\n  QueryList,\r\n  Renderer2,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { ICommandBarItemProps, ICommandBarProps } from 'office-ui-fabric-react/lib/CommandBar';\r\nimport { IContextualMenuItem } from 'office-ui-fabric-react/lib/ContextualMenu';\r\nimport { Subscription } from 'rxjs';\r\nimport { mergeItemChanges } from '@angular-react/fabric/lib/components/core';\r\nimport { omit } from '@angular-react/fabric/lib/utils';\r\nimport { OnChanges, TypedChanges } from '@angular-react/fabric/lib/declarations';\r\n\r\nimport { CommandBarItemChangedPayload, CommandBarItemDirective } from './directives/command-bar-item.directives';\r\nimport {\r\n  CommandBarFarItemsDirective,\r\n  CommandBarItemsDirective,\r\n  CommandBarItemsDirectiveBase,\r\n  CommandBarOverflowItemsDirective,\r\n} from './directives/command-bar-items.directives';\r\n\r\n@Component({\r\n  selector: 'fab-command-bar',\r\n  exportAs: 'fabCommandBar',\r\n  template: `\r\n    <CommandBar\r\n      #reactNode\r\n      [componentRef]=\"componentRef\"\r\n      [items]=\"transformedItems_\"\r\n      [farItems]=\"transformedFarItems_\"\r\n      [overflowItems]=\"transformedOverflowItems_\"\r\n      [overflowButtonProps]=\"overflowButtonProps\"\r\n      [overflowButtonAs]=\"overflowButtonAs\"\r\n      [buttonAs]=\"buttonAs\"\r\n      [shiftOnReduce]=\"shiftOnReduce\"\r\n      [className]=\"className\"\r\n      [ariaLabel]=\"ariaLabel\"\r\n      [styles]=\"styles\"\r\n      [theme]=\"theme\"\r\n      [ReduceData]=\"onReduceData\"\r\n      [GrowData]=\"onGrowData\"\r\n      (onDataReduced)=\"(onDataReduced)\"\r\n      (onDataGrown)=\"(onDataGrown)\"\r\n    >\r\n    </CommandBar>\r\n  `,\r\n  styles: ['react-renderer'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class FabCommandBarComponent extends ReactWrapperComponent<ICommandBarProps>\r\n  implements OnChanges<FabCommandBarComponent>, AfterContentInit, OnDestroy {\r\n  @ContentChild(CommandBarItemsDirective, { static: true }) readonly itemsDirective?: CommandBarItemsDirective;\r\n  @ContentChild(CommandBarFarItemsDirective, { static: true }) readonly farItemsDirective?: CommandBarFarItemsDirective;\r\n  @ContentChild(CommandBarOverflowItemsDirective, { static: true }) readonly overflowItemsDirective?: CommandBarOverflowItemsDirective;\r\n\r\n  @ViewChild('reactNode', { static: true }) protected reactNodeRef: ElementRef;\r\n\r\n  @Input() componentRef?: ICommandBarProps['componentRef'];\r\n  @Input() overflowButtonProps?: ICommandBarProps['overflowButtonProps'];\r\n  @Input() overflowButtonAs?: ICommandBarProps['overflowButtonAs'];\r\n  @Input() buttonAs?: ICommandBarProps['buttonAs'];\r\n  @Input() shiftOnReduce?: ICommandBarProps['shiftOnReduce'];\r\n  @Input() className?: ICommandBarProps['className'];\r\n  @Input() ariaLabel?: ICommandBarProps['ariaLabel'];\r\n  @Input() styles?: ICommandBarProps['styles'];\r\n  @Input() theme?: ICommandBarProps['theme'];\r\n  @Input() onReduceData?: ICommandBarProps['onReduceData'];\r\n  @Input() onGrowData?: ICommandBarProps['onGrowData'];\r\n\r\n  @Input() items: ReadonlyArray<ICommandBarItemOptions>;\r\n  @Input() farItems: ReadonlyArray<ICommandBarItemOptions>;\r\n  @Input() overflowItems: ReadonlyArray<ICommandBarItemOptions>;\r\n\r\n  @Output() readonly onDataReduced = new EventEmitter<{ movedItem: ICommandBarItemProps }>();\r\n  @Output() readonly onDataGrown = new EventEmitter<{ movedItem: ICommandBarItemProps }>();\r\n\r\n  /** @internal */\r\n  transformedItems_: ReadonlyArray<ICommandBarItemProps>;\r\n  /** @internal */\r\n  transformedFarItems_: ReadonlyArray<ICommandBarItemProps>;\r\n  /** @internal */\r\n  transformedOverflowItems_: ReadonlyArray<ICommandBarItemProps>;\r\n\r\n  private readonly _subscriptions: Subscription[] = [];\r\n\r\n  constructor(elementRef: ElementRef, changeDetectorRef: ChangeDetectorRef, renderer: Renderer2, ngZone: NgZone) {\r\n    super(elementRef, changeDetectorRef, renderer, { ngZone, setHostDisplay: true });\r\n  }\r\n\r\n  ngOnChanges(changes: TypedChanges<FabCommandBarComponent>) {\r\n    if (\r\n      changes['items'] &&\r\n      changes['items'].previousValue !== changes['items'].currentValue &&\r\n      changes['items'].currentValue\r\n    )\r\n      this._createTransformedItems(changes['items'].currentValue);\r\n    if (\r\n      changes['farItems'] &&\r\n      changes['farItems'].previousValue !== changes['farItems'].currentValue &&\r\n      changes['farItems'].currentValue\r\n    )\r\n      this._createTransformedFarItems(changes['farItems'].currentValue);\r\n    if (\r\n      changes['overflowItems'] &&\r\n      changes['overflowItems'].previousValue !== changes['overflowItems'].currentValue &&\r\n      changes['overflowItems'].currentValue\r\n    )\r\n      this._createTransformedOverflowItems(changes['overflowItems'].currentValue);\r\n\r\n    super.ngOnChanges(changes);\r\n  }\r\n\r\n  ngAfterContentInit() {\r\n    if (this.itemsDirective) this._initDirective(this.itemsDirective, 'items');\r\n    if (this.farItemsDirective) this._initDirective(this.farItemsDirective, 'farItems');\r\n    if (this.overflowItemsDirective) this._initDirective(this.overflowItemsDirective, 'overflowItems');\r\n    super.ngAfterContentInit();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._subscriptions.forEach(subscription => subscription.unsubscribe());\r\n  }\r\n\r\n  private _initDirective<TCommandBarItemsDirective extends CommandBarItemsDirectiveBase>(\r\n    directive: TCommandBarItemsDirective,\r\n    itemsPropertyKey: 'items' | 'farItems' | 'overflowItems'\r\n  ) {\r\n    const transformItemsFunc =\r\n      (directive instanceof CommandBarItemsDirective && (newItems => this._createTransformedItems(newItems))) ||\r\n      (directive instanceof CommandBarFarItemsDirective && (newItems => this._createTransformedFarItems(newItems))) ||\r\n      (directive instanceof CommandBarOverflowItemsDirective &&\r\n        (newItems => this._createTransformedOverflowItems(newItems)));\r\n    null;\r\n\r\n    if (!transformItemsFunc) {\r\n      throw new Error('Invalid directive given');\r\n    }\r\n\r\n    const setItems = (\r\n      mapper: (items: ReadonlyArray<ICommandBarItemOptions>) => ReadonlyArray<ICommandBarItemOptions>\r\n    ) => {\r\n      this[itemsPropertyKey] = mapper(this[itemsPropertyKey]);\r\n      transformItemsFunc(this[itemsPropertyKey]);\r\n\r\n      this.markForCheck();\r\n    };\r\n\r\n    // Initial items\r\n    setItems(() => directive.items);\r\n\r\n    // Subscribe to adding/removing items\r\n    this._subscriptions.push(\r\n      directive.onItemsChanged.subscribe((newItems: QueryList<CommandBarItemDirective>) => {\r\n        setItems(() => newItems.map<ICommandBarItemOptions>(directive => directive));\r\n      })\r\n    );\r\n\r\n    // Subscribe for existing items changes\r\n    this._subscriptions.push(\r\n      directive.onChildItemChanged.subscribe(({ key, changes }: CommandBarItemChangedPayload) => {\r\n        setItems(items => items.map(item => (item.key === key ? mergeItemChanges(item, changes) : item)));\r\n        this.markForCheck();\r\n      })\r\n    );\r\n  }\r\n\r\n  private _createTransformedItems(newItems: ReadonlyArray<ICommandBarItemOptions>) {\r\n    this.transformedItems_ = newItems.map(item => this._transformCommandBarItemOptionsToProps(item));\r\n  }\r\n\r\n  private _createTransformedFarItems(newItems: ReadonlyArray<ICommandBarItemOptions>) {\r\n    this.transformedFarItems_ = newItems.map(item => this._transformCommandBarItemOptionsToProps(item));\r\n  }\r\n\r\n  private _createTransformedOverflowItems(newItems: ReadonlyArray<ICommandBarItemOptions>) {\r\n    this.transformedOverflowItems_ = newItems.map(item => this._transformCommandBarItemOptionsToProps(item));\r\n  }\r\n\r\n  private _transformCommandBarItemOptionsToProps(itemOptions: ICommandBarItemOptions): ICommandBarItemProps {\r\n    const sharedProperties = omit(itemOptions, 'renderIcon', 'render');\r\n\r\n    // Legacy render mode is used for the icon because otherwise the icon is to the right of the text (instead of the usual left)\r\n    const iconRenderer = this.createInputJsxRenderer(itemOptions.renderIcon, { legacyRenderMode: true });\r\n    const renderer = this.createInputJsxRenderer(itemOptions.render);\r\n\r\n    // @ts-ignore\r\n    return Object.assign(\r\n      {},\r\n      sharedProperties,\r\n      iconRenderer && {\r\n        onRenderIcon: (item: IContextualMenuItem) => iconRenderer({ contextualMenuItem: item }),\r\n      },\r\n      renderer &&\r\n      ({ onRender: (item, dismissMenu) => renderer({ item, dismissMenu }) } as Pick<ICommandBarItemProps, 'onRender'>)\r\n    ) as ICommandBarItemProps;\r\n  }\r\n}\r\n\r\n// Not using `Omit` here since it confused the TypeScript compiler and it just showed the properties listed here (`renderIcon`, `render` and `data`).\r\n// The type here is just `Omit` without the generics though.\r\nexport interface ICommandBarItemOptions<TData = any>\r\n  extends Pick<ICommandBarItemProps, Exclude<KnownKeys<ICommandBarItemProps>, 'onRender' | 'onRenderIcon'>> {\r\n  readonly renderIcon?: InputRendererOptions<ICommandBarItemOptionsRenderIconContext>;\r\n  readonly render?: InputRendererOptions<ICommandBarItemOptionsRenderContext>;\r\n  readonly data?: TData;\r\n}\r\n\r\nexport interface ICommandBarItemOptionsRenderContext {\r\n  item: any;\r\n  dismissMenu: (ev?: any, dismissAll?: boolean) => void;\r\n}\r\n\r\nexport interface ICommandBarItemOptionsRenderIconContext {\r\n  contextualMenuItem: IContextualMenuItem;\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport { registerElement } from '@angular-react/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule, NO_ERRORS_SCHEMA } from '@angular/core';\r\nimport * as OverflowSetCss from 'office-ui-fabric-react/lib-amd/components/OverflowSet/OverflowSet.scss';\r\nimport { CommandBar } from 'office-ui-fabric-react/lib/CommandBar';\r\nimport { noop } from '@angular-react/fabric/lib/utils';\r\n\r\nimport { FabContextualMenuModule } from '@angular-react/fabric/lib/components/contextual-menu';\r\nimport { FabCommandBarComponent } from './command-bar.component';\r\nimport {\r\n  CommandBarItemDirective,\r\n  CommandBarItemRenderDirective,\r\n  CommandBarItemRenderIconDirective,\r\n} from './directives/command-bar-item.directives';\r\nimport {\r\n  CommandBarFarItemsDirective,\r\n  CommandBarItemsDirective,\r\n  CommandBarOverflowItemsDirective,\r\n} from './directives/command-bar-items.directives';\r\n\r\n// Dummy action to force OverflowSetCss to load and not be tree-shaken away.\r\nnoop(OverflowSetCss);\r\n\r\nconst components = [\r\n  FabCommandBarComponent,\r\n  CommandBarItemsDirective,\r\n  CommandBarFarItemsDirective,\r\n  CommandBarOverflowItemsDirective,\r\n  CommandBarItemDirective,\r\n  CommandBarItemRenderDirective,\r\n  CommandBarItemRenderIconDirective,\r\n];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FabContextualMenuModule],\r\n  declarations: components,\r\n  exports: [...components, FabContextualMenuModule],\r\n  schemas: [NO_ERRORS_SCHEMA],\r\n})\r\nexport class FabCommandBarModule {\r\n  constructor() {\r\n    // Add any React elements to the registry (used by the renderer).\r\n    registerElement('CommandBar', () => CommandBar);\r\n  }\r\n}\r\n"],"names":["tslib_1.__extends"],"mappings":"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"}