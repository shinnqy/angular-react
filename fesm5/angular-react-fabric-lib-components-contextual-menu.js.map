{"version":3,"file":"angular-react-fabric-lib-components-contextual-menu.js","sources":["ng://@angular-react/fabric/lib/components/contextual-menu/directives/contextual-menu-item.directive.ts","ng://@angular-react/fabric/lib/components/contextual-menu/contextual-menu.module.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {\r\n  AfterContentInit,\r\n  ContentChildren,\r\n  Directive,\r\n  EventEmitter,\r\n  Input,\r\n  OnDestroy,\r\n  Output,\r\n  QueryList,\r\n  ContentChild,\r\n  TemplateRef,\r\n  ElementRef,\r\n} from '@angular/core';\r\nimport { IContextualMenuItem } from 'office-ui-fabric-react/lib/ContextualMenu';\r\nimport { KnownKeys, InputRendererOptions } from '@angular-react/core';\r\nimport { getDataAttributes } from '@angular-react/fabric/lib/utils';\r\nimport { ItemChangedPayload, ChangeableItemsHelper, IChangeableItemsContainer, ChangeableItemDirective } from '@angular-react/fabric/lib/components/core';\r\nimport { OnChanges } from '@angular-react/fabric/lib/declarations';\r\n\r\nexport type ContextualMenuItemChangedPayload = ItemChangedPayload<\r\n  IContextualMenuItemOptions['key'],\r\n  IContextualMenuItemOptions\r\n>;\r\n\r\n/**\r\n * Wrapper directive to allow rendering a custom item to a ContextualMenuItem.\r\n */\r\n@Directive({ selector: 'fab-command-bar-item > render' })\r\nexport class ContextualMenuItemRenderDirective {\r\n  @ContentChild(TemplateRef, { static: false }) readonly templateRef: TemplateRef<IContextualMenuItemOptionsRenderContext>;\r\n}\r\n\r\n/**\r\n * Wrapper directive to allow rendering a custom icon to a ContextualMenuItem.\r\n */\r\n@Directive({ selector: 'fab-command-bar-item > render-icon' })\r\nexport class ContextualMenuItemRenderIconDirective {\r\n  @ContentChild(TemplateRef, { static: false }) readonly templateRef: TemplateRef<IContextualMenuItemOptionsRenderIconContext>;\r\n}\r\n\r\n@Directive({ selector: 'contextual-menu-item' })\r\nexport class ContextualMenuItemDirective extends ChangeableItemDirective<IContextualMenuItem>\r\n  implements\r\n    AfterContentInit,\r\n    IChangeableItemsContainer<IContextualMenuItem>,\r\n    IContextualMenuItem,\r\n    OnChanges<ContextualMenuItemDirective>,\r\n    OnDestroy {\r\n  @ContentChildren(ContextualMenuItemDirective) readonly menuItemsDirectives: QueryList<ContextualMenuItemDirective>;\r\n  @ContentChild(ContextualMenuItemRenderDirective, { static: false }) readonly renderDirective: ContextualMenuItemRenderDirective;\r\n  @ContentChild(ContextualMenuItemRenderIconDirective, { static: false })\r\n  readonly renderIconDirective: ContextualMenuItemRenderIconDirective;\r\n\r\n  @Input() componentRef?: IContextualMenuItem['componentRef'];\r\n  @Input() text?: IContextualMenuItem['text'];\r\n  @Input() secondaryText?: IContextualMenuItem['secondaryText'];\r\n  @Input() itemType?: IContextualMenuItem['itemType'];\r\n  @Input() iconProps?: IContextualMenuItem['iconProps'];\r\n  @Input() submenuIconProps?: IContextualMenuItem['submenuIconProps'];\r\n  @Input() disabled?: IContextualMenuItem['disabled'];\r\n  @Input() primaryDisabled?: IContextualMenuItem['primaryDisabled'];\r\n  @Input() shortCut?: IContextualMenuItem['shortCut'];\r\n  @Input() canCheck?: IContextualMenuItem['canCheck'];\r\n  @Input() checked?: IContextualMenuItem['checked'];\r\n  @Input() split?: IContextualMenuItem['split'];\r\n  @Input() data?: IContextualMenuItem['data'];\r\n  @Input() href?: IContextualMenuItem['href'];\r\n  @Input() target?: IContextualMenuItem['target'];\r\n  @Input() rel?: IContextualMenuItem['rel'];\r\n  @Input() subMenuProps?: IContextualMenuItem['subMenuProps'];\r\n  @Input() getItemClassNames?: IContextualMenuItem['getItemClassNames'];\r\n  @Input() itemProps?: IContextualMenuItem['itemProps'];\r\n  @Input() getSplitButtonVerticalDividerClassNames?: IContextualMenuItem['getSplitButtonVerticalDividerClassNames'];\r\n  @Input() sectionProps?: IContextualMenuItem['sectionProps'];\r\n  @Input() className?: IContextualMenuItem['className'];\r\n  @Input() style?: IContextualMenuItem['style'];\r\n  @Input() ariaLabel?: IContextualMenuItem['ariaLabel'];\r\n  @Input() title?: IContextualMenuItem['title'];\r\n  @Input() onMouseDown?: IContextualMenuItem['onMouseDown'];\r\n  @Input() role?: IContextualMenuItem['role'];\r\n  @Input() customOnRenderListLength?: IContextualMenuItem['customOnRenderListLength'];\r\n  @Input() keytipProps?: IContextualMenuItem['keytipProps'];\r\n  @Input() inactive?: IContextualMenuItem['inactive'];\r\n  @Input() name?: IContextualMenuItem['name'];\r\n  @Input() render: IContextualMenuItemOptions['render'];\r\n  @Input() renderIcon: IContextualMenuItemOptions['renderIcon'];\r\n\r\n  @Output() readonly click = new EventEmitter<{ ev?: MouseEvent | KeyboardEvent; item?: IContextualMenuItem }>();\r\n\r\n  @Output()\r\n  get onChildItemChanged(): EventEmitter<ItemChangedPayload<string, IContextualMenuItem>> {\r\n    return this._changeableItemsHelper && this._changeableItemsHelper.onChildItemChanged;\r\n  }\r\n\r\n  @Output()\r\n  get onItemsChanged(): EventEmitter<QueryList<ChangeableItemDirective<IContextualMenuItem>>> {\r\n    return this._changeableItemsHelper && this._changeableItemsHelper.onItemsChanged;\r\n  }\r\n\r\n  constructor(readonly elementRef: ElementRef<HTMLElement>) {\r\n    super();\r\n  }\r\n\r\n  private _changeableItemsHelper: ChangeableItemsHelper<IContextualMenuItem>;\r\n\r\n  ngAfterContentInit() {\r\n    if (this.renderDirective && this.renderDirective.templateRef) {\r\n      this.render = this.renderDirective.templateRef;\r\n    }\r\n\r\n    if (this.renderIconDirective && this.renderIconDirective.templateRef) {\r\n      this.renderIcon = this.renderIconDirective.templateRef;\r\n    }\r\n\r\n    this._changeableItemsHelper = new ChangeableItemsHelper(this.menuItemsDirectives, this, nonSelfDirective => {\r\n      const items = nonSelfDirective.map(directive => this._directiveToContextualMenuItem(directive as any));\r\n      if (!this.subMenuProps) {\r\n        this.subMenuProps = { items: items };\r\n      } else {\r\n        this.subMenuProps.items = items;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._changeableItemsHelper.destroy();\r\n  }\r\n\r\n  private _directiveToContextualMenuItem(directive: ContextualMenuItemDirective): IContextualMenuItem {\r\n    return {\r\n      ...directive,\r\n      ...getDataAttributes(directive.elementRef.nativeElement, true),\r\n      onClick: (ev, item) => {\r\n        directive.click.emit({ ev: ev && ev.nativeEvent, item: item });\r\n      },\r\n    };\r\n  }\r\n}\r\n\r\n// Not using `Omit` here since it confused the TypeScript compiler and it just showed the properties listed here (`renderIcon`, `render` and `data`).\r\n// The type here is just `Omit` without the generics though.\r\nexport interface IContextualMenuItemOptions<TData = any>\r\n  extends Pick<IContextualMenuItem, Exclude<KnownKeys<IContextualMenuItem>, 'onRender' | 'onRenderIcon'>> {\r\n  readonly renderIcon?: InputRendererOptions<IContextualMenuItemOptionsRenderIconContext>;\r\n  readonly render?: InputRendererOptions<IContextualMenuItemOptionsRenderContext>;\r\n  readonly data?: TData;\r\n\r\n  /**\r\n   * For any attributes like data-* etc.\r\n   */\r\n  [propertyName: string]: any;\r\n}\r\n\r\nexport interface IContextualMenuItemOptionsRenderContext {\r\n  item: any;\r\n  dismissMenu: (ev?: any, dismissAll?: boolean) => void;\r\n}\r\n\r\nexport interface IContextualMenuItemOptionsRenderIconContext {\r\n  contextualMenuItem: IContextualMenuItem;\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule, NO_ERRORS_SCHEMA } from '@angular/core';\r\nimport {\r\n  ContextualMenuItemDirective,\r\n  ContextualMenuItemRenderDirective,\r\n  ContextualMenuItemRenderIconDirective,\r\n} from './directives/contextual-menu-item.directive';\r\n\r\nconst components = [\r\n  ContextualMenuItemDirective,\r\n  ContextualMenuItemRenderDirective,\r\n  ContextualMenuItemRenderIconDirective,\r\n];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: components,\r\n  exports: components,\r\n  schemas: [NO_ERRORS_SCHEMA],\r\n})\r\nexport class FabContextualMenuModule {}\r\n"],"names":["tslib_1.__extends"],"mappings":"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"}